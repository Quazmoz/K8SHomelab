apiVersion: v1
kind: ConfigMap
metadata:
  name: zionup-config
  namespace: zionup-production
  labels:
    app: zionup
    environment: production
data:
  # Database Configuration (non-sensitive)
  POSTGRES_SERVER: "postgres"
  POSTGRES_PORT: "5432"
  POSTGRES_DB: "pmapp"
  POSTGRES_USER: "pmapp"
  
  # Redis Configuration
  REDIS_URL: "redis://redis:6379/0"
  
  # Application Configuration
  DEBUG: "false"
  DJANGO_LOG_LEVEL: "INFO"
  
  # CORS Origins (adjust based on your domain)
  BACKEND_CORS_ORIGINS: "https://zionup.yourdomain.com,https://www.zionup.yourdomain.com"
  
  # Webhook Configuration
  WEBHOOK_TIMEOUT: "10"
  WEBHOOK_MAX_RETRIES: "3"
  WEBHOOK_RETRY_DELAY: "60"
  
  # Email Configuration
  EMAIL_PROVIDER: "smtp"
  EMAIL_BACKEND: "django.core.mail.backends.smtp.EmailBackend"
  EMAIL_HOST: "smtp.gmail.com"
  EMAIL_PORT: "587"
  EMAIL_USE_TLS: "true"
  DEFAULT_FROM_EMAIL: "noreply@zionup.com"
  
  # Allowed Hosts (comma-separated)
  ALLOWED_HOSTS: "backend,localhost,127.0.0.1"

  # Azure AD Configuration
  AZURE_AD_ENABLED: "true"
  AZURE_AD_REDIRECT_URI: "https://zionup.yourdomain.com/api/v1/auth/azure/callback"
  AZURE_AD_SCOPES: "openid,profile,email,User.Read"
