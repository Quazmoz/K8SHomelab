# mcpo ConfigMap
# Contains config.json for multiple MCP servers
apiVersion: v1
kind: ConfigMap
metadata:
  name: mcpo-config
  namespace: apps
data:
  config.json: |
    {
      "mcpServers": {
        "azure": {
          "command": "docker",
          "args": [
            "run", "-i", "--rm",
            "-e", "AZURE_TENANT_ID",
            "-e", "AZURE_CLIENT_ID", 
            "-e", "AZURE_CLIENT_SECRET",
            "-e", "AZURE_SUBSCRIPTION_ID",
            "mcr.microsoft.com/azure-sdk/azure-mcp:latest"
          ]
        },
        "postgres": {
          "command": "npx",
          "args": ["-y", "@henkey/postgres-mcp-server"],
          "env": {
            "POSTGRES_HOST": "postgres.apps.svc.cluster.local",
            "POSTGRES_PORT": "5432",
            "POSTGRES_DATABASE": "postgres",
            "POSTGRES_USER": "grafana_user",
            "POSTGRES_PASSWORD": "passwordfortesting123"
          }
        },
        "kubernetes": {
          "command": "npx",
          "args": ["-y", "kubernetes-mcp-server@latest"]
        },
        "prometheus": {
          "command": "npx",
          "args": ["-y", "prometheus-mcp-server"],
          "env": {
            "PROMETHEUS_URL": "http://prometheus-server.apps.svc.cluster.local"
          }
        },
        "n8n": {
          "command": "npx",
          "args": [
            "-y",
            "supergateway",
            "--sse",
            "http://n8n.apps.svc.cluster.local:5678/mcp-server/http",
            "--header",
            "authorization:Bearer ${N8N_MCP_TOKEN}"
          ]
        },
        "clickup": {
          "command": "npx",
          "args": [
            "-y", 
            "@ivotoby/openapi-mcp-server",
            "--api-base-url", "https://api.clickup.com/api/v2",
            "--openapi-spec", "https://raw.githubusercontent.com/Quazmoz/K8SHomelab/main/apps/base/mcp-servers/clickup-openapi.json"
          ]
        }
      }
    }
